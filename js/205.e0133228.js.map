{"version":3,"file":"js/205.e0133228.js","mappings":"wMACA,MAAMA,EAAeC,KAAM,QAAa,mBAAoBA,EAAIA,KAAK,UAAeA,GAC9EC,EAAa,CACjBC,MAAO,mBAEHC,EAAa,CACjBD,MAAO,6BAEHE,EAA0BL,GAAa,KAAmB,IAAAM,GAAoB,IAAK,CACvFH,MAAO,gBACN,QAAS,KACNI,EAAa,CACjBJ,MAAO,sBAEHK,EAA0BR,GAAa,KAAmB,IAAAM,GAAoB,QAAS,CAC3FG,IAAK,aACLN,MAAO,YACN,OAAQ,KACLO,EAAa,CACjBP,MAAO,wCAEHQ,EAA0BX,GAAa,KAAmB,IAAAM,GAAoB,QAAS,CAC3FG,IAAK,aACLN,MAAO,YACN,OAAQ,KACLS,EAA0BZ,GAAa,KAAmB,IAAAM,GAAoB,QAAS,CAC3FG,IAAK,eACLN,MAAO,YACN,SAAU,KACPU,EAAa,CACjBV,MAAO,mCAEHW,EAA2Bd,GAAa,KAAmB,IAAAM,GAAoB,OAAQ,KAAM,QAAS,KACtGS,EAAc,CAACD,GACfE,EAA2BhB,GAAa,KAAmB,IAAAM,GAAoB,SAAU,CAC7FW,KAAM,SACNd,MAAO,iCACN,EAAc,IAAAG,GAAoB,OAAQ,KAAM,UAAW,KACvD,SAASY,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,OAAO,WAAc,QAAoB,MAAOtB,EAAY,EAAC,IAAAI,GAAoB,MAAOF,EAAY,CAACC,GAAY,IAAAC,GAAoB,OAAQ,CAC3ImB,OAAQ,cACRC,aAAc,MACdvB,MAAO,oBACPwB,SAAUP,EAAO,MAAQA,EAAO,KAAM,SAAe,IAAIQ,IAASJ,EAASK,eAAiBL,EAASK,iBAAiBD,IAAO,CAAC,cAC7H,EAAC,IAAAtB,GAAoB,MAAOC,EAAY,EAAC,IAAAD,GAAoB,MAAO,CACrEH,OAAO,QAAgB,CAAC,CACtB,OAAUoB,EAAMO,cACf,0CACF,CAACtB,GAAY,SAAgB,IAAAF,GAAoB,QAAS,CAC3DyB,GAAI,aACJ,sBAAuBX,EAAO,KAAOA,EAAO,GAAKY,GAAUT,EAAMU,OAASD,GAC1Ef,KAAM,WACNiB,UAAW,KACXC,aAAc,MACdC,YAAa,SACbjC,MAAO,eACPkC,SAAU,GACVC,UAAWlB,EAAO,KAAOA,EAAO,GAAKY,GAAUR,EAASe,YAAYP,IACpEQ,QAASpB,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAASJ,EAASiB,cAAgBjB,EAASiB,gBAAgBb,IAClGc,OAAQtB,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAASJ,EAASmB,aAAenB,EAASmB,eAAef,KAC9F,KAAM,KAAM,CAAC,CAAC,KAAaL,EAAMU,WAAY,GAAIV,EAAMO,eAAgB,WAAc,QAAoB,IAAK,CAC/Gc,IAAK,EACLzC,OAAO,QAAgB,CAAC,CACtB,OAAUoB,EAAMO,cACf,SACF,WAAY,KAAM,QAAoB,IAAI,IAAO,IAAAxB,GAAoB,MAAOI,EAAY,CAACC,GAAY,SAAgB,IAAAL,GAAoB,QAAS,CACnJyB,GAAI,SACJ,sBAAuBX,EAAO,KAAOA,EAAO,GAAKY,GAAUT,EAAMsB,OAASb,GAC1Ef,KAAM,WACN6B,UAAW,IACXZ,UAAW,KACXC,aAAc,MACdC,YAAa,YACbjC,MAAO,eACPkC,SAAU,GACVC,UAAWlB,EAAO,KAAOA,EAAO,GAAKY,GAAUR,EAASe,YAAYP,IACpEQ,QAASpB,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAASJ,EAASiB,cAAgBjB,EAASiB,gBAAgBb,IAClGc,OAAQtB,EAAO,KAAOA,EAAO,GAAK,IAAIQ,IAASJ,EAASmB,aAAenB,EAASmB,eAAef,KAC9F,KAAM,KAAM,CAAC,CAAC,KAAaL,EAAMsB,aAAa,IAAAvC,GAAoB,MAAO,CAC1EH,OAAO,QAAgB,CAAC,CACtB,OAAUoB,EAAMwB,cACf,0CACF,CAACnC,GAAY,SAAgB,IAAAN,GAAoB,QAAS,CAC3DyB,GAAI,cACJ,sBAAuBX,EAAO,KAAOA,EAAO,GAAKY,GAAUT,EAAMyB,SAAWhB,GAC5Ef,KAAM,WACNiB,UAAW,KACXC,aAAc,MACdC,YAAa,WACbjC,MAAO,eACPkC,SAAU,GACVC,UAAWlB,EAAO,KAAOA,EAAO,GAAKY,GAAUR,EAASe,YAAYP,IACpEQ,QAASpB,EAAO,MAAQA,EAAO,IAAM,IAAIQ,IAASJ,EAASiB,cAAgBjB,EAASiB,gBAAgBb,IACpGc,OAAQtB,EAAO,MAAQA,EAAO,IAAM,IAAIQ,IAASJ,EAASmB,aAAenB,EAASmB,eAAef,KAChG,KAAM,KAAM,CAAC,CAAC,KAAaL,EAAMyB,aAAc,GAAIzB,EAAMwB,eAAgB,WAAc,QAAoB,IAAK,CACjHH,IAAK,EACLzC,OAAO,QAAgB,CAAC,CACtB,OAAUoB,EAAMwB,cACf,SACF,aAAc,KAAM,QAAoB,IAAI,MAAS,IAAAzC,GAAoB,MAAOO,EAAY,EAAC,IAAAP,GAAoB,IAAK,CACvHH,MAAO,6EACP8C,QAAS7B,EAAO,MAAQA,EAAO,IAAM,IAAIQ,IAASJ,EAAS0B,gBAAkB1B,EAAS0B,kBAAkBtB,KACvGb,GAAcC,KAAgB,OACnC,C,cCtGA,MAAM,QACJmC,IACE,UACJ,OACE,IAAAC,GACE,MAAO,CACLnB,OAAQ,GACRY,OAAQ,GACRG,SAAU,GACVlB,cAAc,EACdiB,cAAc,EAElB,EACAM,SAAU,CACR,UAAAC,GACE,OAAOC,KAAKC,OAAOC,MAAMC,cAC3B,EACA,QAAAC,GACE,OAAOJ,KAAKC,OAAOC,MAAME,QAC3B,GAEF,SAAAC,GACEL,KAAKL,gBACP,EACAW,QAAS,CACP,aAAAhC,GAEE,GADA0B,KAAKO,WACDP,KAAKtB,SAAWsB,KAAKD,WAGvB,OAFAC,KAAKzB,cAAe,OACpByB,KAAKQ,gBAGP,GAAIR,KAAKV,SAAWU,KAAKP,SAGvB,OAFAO,KAAKR,cAAe,OACpBQ,KAAKQ,gBAGPR,KAAKC,OAAOQ,SAAS,sBAAuB,GAC5C,MAAMC,EAAqB,0BAC3BV,KAAKW,MAAMC,KAAKF,EAAoB,CAClC,IAAOV,KAAKI,SACZ,YAAeJ,KAAKV,SACnBuB,MAAKC,IACNd,KAAKC,OAAOQ,SAAS,sBAAuB,GAC5C,MAAMM,EAAWD,EAASjB,KACF,YAApBkB,EAASC,OACXhB,KAAKiB,iBAELjB,KAAKQ,eACP,IACCU,OAAM,SAAUC,GACjBC,QAAQC,IAAI,QAASF,EACvB,GACF,EACA,cAAAF,GACEjB,KAAKC,OAAOQ,SAAS,uBAAwBT,KAAKV,QAClDM,EAAQ0B,IAAI,MAAOtB,KAAKV,OAAQ,MAChCU,KAAKL,iBAELK,KAAKC,OAAOQ,SAAS,sBAAsB,GAC3CT,KAAKC,OAAOQ,SAAS,mBAAoB,SAC3C,EACA,aAAAD,GACEe,EAAE,YAAYC,SAAS,qBACvBD,EAAE,YAAYE,GAAG,sBAAsB,WACrCF,EAAE,YAAYG,YAAY,oBAC5B,GACF,EACA,QAAAnB,GACEP,KAAKzB,cAAe,EACpByB,KAAKR,cAAe,CACtB,EACA,cAAAG,GACEK,KAAKtB,OAAS,GACdsB,KAAKV,OAAS,GACdU,KAAKP,SAAW,GAChBO,KAAKO,UACP,EACA,YAAArB,CAAayC,GACXJ,EAAEI,EAAGC,QAAQC,QAAQ,YAAYL,SAAS,aAC5C,EACA,WAAApC,CAAYuC,GACVJ,EAAEI,EAAGC,QAAQC,QAAQ,YAAYH,YAAY,aAC/C,EAEA,WAAA1C,CAAY8C,GACO,IAAbA,EAAEC,UACJD,EAAEE,aAAc,EAEpB,I,QCnFJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAStE,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://vue_stock_web/./src/components/member/Member-Password.vue?d6f0","webpack://vue_stock_web/./src/components/member/Member-Password.vue","webpack://vue_stock_web/./src/components/member/Member-Password.vue?088d"],"sourcesContent":["import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-710a549b\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"member-password\"\n};\nconst _hoisted_2 = {\n  class: \"form-section pos-relative\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"title fw-700\"\n}, \"更改密碼\", -1));\nconst _hoisted_4 = {\n  class: \"form choose-select\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"editOldPwd\",\n  class: \"colLabel\"\n}, \"舊密碼\", -1));\nconst _hoisted_6 = {\n  class: \"formBox d-flex flex-direction-column\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"editNewPwd\",\n  class: \"colLabel\"\n}, \"新密碼\", -1));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"editCheckPwd\",\n  class: \"colLabel\"\n}, \"確認新密碼\", -1));\nconst _hoisted_9 = {\n  class: \"d-flex mt-5 justify-content-end\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"取消變更\", -1));\nconst _hoisted_11 = [_hoisted_10];\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn d-block text-align-center\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"儲存變更\")], -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", {\n    action: \"member-form\",\n    autocomplete: \"off\",\n    class: \"position-relative\",\n    onSubmit: _cache[13] || (_cache[13] = _withModifiers((...args) => $options.clickStoreBtn && $options.clickStoreBtn(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    class: _normalizeClass([{\n      'redTip': $data.isShowOldTip\n    }, \"formBox d-flex flex-direction-column\"])\n  }, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    id: \"editOldPwd\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.oldPwd = $event),\n    type: \"password\",\n    maxlength: \"10\",\n    autoComplete: \"off\",\n    placeholder: \"請輸入舊密碼\",\n    class: \"form-control\",\n    required: \"\",\n    onKeydown: _cache[1] || (_cache[1] = $event => $options.keydownNull($event)),\n    onFocus: _cache[2] || (_cache[2] = (...args) => $options.focusInputFn && $options.focusInputFn(...args)),\n    onBlur: _cache[3] || (_cache[3] = (...args) => $options.blurInputFn && $options.blurInputFn(...args))\n  }, null, 544), [[_vModelText, $data.oldPwd]])], 2), $data.isShowOldTip ? (_openBlock(), _createElementBlock(\"p\", {\n    key: 0,\n    class: _normalizeClass([{\n      'redTip': $data.isShowOldTip\n    }, \"tip\"])\n  }, \"*舊密碼輸入錯誤\", 2)) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    id: \"newPwd\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.newPwd = $event),\n    type: \"password\",\n    minlength: \"5\",\n    maxlength: \"10\",\n    autoComplete: \"off\",\n    placeholder: \"請輸入至少5個字元\",\n    class: \"form-control\",\n    required: \"\",\n    onKeydown: _cache[5] || (_cache[5] = $event => $options.keydownNull($event)),\n    onFocus: _cache[6] || (_cache[6] = (...args) => $options.focusInputFn && $options.focusInputFn(...args)),\n    onBlur: _cache[7] || (_cache[7] = (...args) => $options.blurInputFn && $options.blurInputFn(...args))\n  }, null, 544), [[_vModelText, $data.newPwd]])]), _createElementVNode(\"div\", {\n    class: _normalizeClass([{\n      'redTip': $data.isShowNewTip\n    }, \"formBox d-flex flex-direction-column\"])\n  }, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    id: \"checkNewPwd\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.checkPwd = $event),\n    type: \"password\",\n    maxlength: \"10\",\n    autoComplete: \"off\",\n    placeholder: \"請重複輸入新密碼\",\n    class: \"form-control\",\n    required: \"\",\n    onKeydown: _cache[9] || (_cache[9] = $event => $options.keydownNull($event)),\n    onFocus: _cache[10] || (_cache[10] = (...args) => $options.focusInputFn && $options.focusInputFn(...args)),\n    onBlur: _cache[11] || (_cache[11] = (...args) => $options.blurInputFn && $options.blurInputFn(...args))\n  }, null, 544), [[_vModelText, $data.checkPwd]])], 2), $data.isShowNewTip ? (_openBlock(), _createElementBlock(\"p\", {\n    key: 1,\n    class: _normalizeClass([{\n      'redTip': $data.isShowNewTip\n    }, \"tip\"])\n  }, \"*新密碼重複輸入錯誤\", 2)) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", {\n    class: \"btn cancel d-flex justify-content-center align-items-center main-blue-text\",\n    onClick: _cache[12] || (_cache[12] = (...args) => $options.clickCancelBtn && $options.clickCancelBtn(...args))\n  }, _hoisted_11), _hoisted_12])], 32)])]);\n}","import { useCookies } from 'vue3-cookies';\nconst {\n  cookies\n} = useCookies();\nexport default {\n  data() {\n    return {\n      oldPwd: '',\n      newPwd: '',\n      checkPwd: '',\n      isShowOldTip: false,\n      isShowNewTip: false\n    };\n  },\n  computed: {\n    currentPwd() {\n      return this.$store.state.memberPassword;\n    },\n    memberId() {\n      return this.$store.state.memberId;\n    }\n  },\n  unmounted() {\n    this.clickCancelBtn();\n  },\n  methods: {\n    clickStoreBtn() {\n      this.resetTip();\n      if (this.oldPwd !== this.currentPwd) {\n        this.isShowOldTip = true;\n        this.showFalseAnim();\n        return;\n      }\n      if (this.newPwd !== this.checkPwd) {\n        this.isShowNewTip = true;\n        this.showFalseAnim();\n        return;\n      }\n      this.$store.dispatch('updateIsShowLoading', 0);\n      const memberUpdatePwdApi = process.env.VUE_APP_M_UPDATE_PWD;\n      this.axios.post(memberUpdatePwdApi, {\n        'MID': this.memberId,\n        'newPassword': this.newPwd\n      }).then(response => {\n        this.$store.dispatch('updateIsShowLoading', 1);\n        const backData = response.data;\n        if (backData.status === 'success') {\n          this.updatePwdSucFn();\n        } else {\n          this.showFalseAnim();\n        }\n      }).catch(function (error) {\n        console.log('error', error);\n      });\n    },\n    updatePwdSucFn() {\n      this.$store.dispatch('updateMemberPassword', this.newPwd);\n      cookies.set('pwd', this.newPwd, '6h');\n      this.clickCancelBtn();\n      // 修改成功訊息\n      this.$store.dispatch('updateIsShowNotice', true);\n      this.$store.dispatch('updateNoticeText', '密碼修改成功');\n    },\n    showFalseAnim() {\n      $('.message').addClass('animate_headShake');\n      $('.message').on('webkitAnimationEnd', function () {\n        $('.message').removeClass('animate_headShake');\n      });\n    },\n    resetTip() {\n      this.isShowOldTip = false;\n      this.isShowNewTip = false;\n    },\n    clickCancelBtn() {\n      this.oldPwd = '';\n      this.newPwd = '';\n      this.checkPwd = '';\n      this.resetTip();\n    },\n    focusInputFn(el) {\n      $(el.target).closest('.formBox').addClass('inputFocus');\n    },\n    blurInputFn(el) {\n      $(el.target).closest('.formBox').removeClass('inputFocus');\n    },\n    // 禁止輸入空格\n    keydownNull(e) {\n      if (e.keyCode == 32) {\n        e.returnValue = false;\n      }\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./Member-Password.vue?vue&type=template&id=710a549b&scoped=true\"\nimport script from \"./Member-Password.vue?vue&type=script&lang=js\"\nexport * from \"./Member-Password.vue?vue&type=script&lang=js\"\n\nimport \"./Member-Password.vue?vue&type=style&index=0&id=710a549b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-710a549b\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_","_hoisted_4","_hoisted_5","for","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","type","render","_ctx","_cache","$props","$setup","$data","$options","action","autocomplete","onSubmit","args","clickStoreBtn","isShowOldTip","id","$event","oldPwd","maxlength","autoComplete","placeholder","required","onKeydown","keydownNull","onFocus","focusInputFn","onBlur","blurInputFn","key","newPwd","minlength","isShowNewTip","checkPwd","onClick","clickCancelBtn","cookies","data","computed","currentPwd","this","$store","state","memberPassword","memberId","unmounted","methods","resetTip","showFalseAnim","dispatch","memberUpdatePwdApi","axios","post","then","response","backData","status","updatePwdSucFn","catch","error","console","log","set","$","addClass","on","removeClass","el","target","closest","e","keyCode","returnValue","__exports__"],"sourceRoot":""}